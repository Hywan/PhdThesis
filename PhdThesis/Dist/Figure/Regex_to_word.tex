%%
\pgfsetcolor{dot}
  % Edge: ast -> word
  \draw [->] (208.35bp,77bp) .. controls (235.81bp,77bp) and (279.03bp,77bp)  .. (319.99bp,77bp);
  \pgfsetstrokecolor{dotstroke}
  \draw (266bp,95bp) node {\begin{tabular}{c}génération\\isotropique\end{tabular}};
  % Edge: regexX -> astX
  \draw [->] (56.345bp,20bp) .. controls (79.754bp,20bp) and (113.76bp,20bp)  .. (150.27bp,20bp);
  % Edge: astX -> wordX
  \draw [->] (211.7bp,20bp) .. controls (239.16bp,20bp) and (280.04bp,20bp)  .. (319.77bp,20bp);
  % Edge: regex -> ast
  \draw [->] (55.302bp,77bp) .. controls (79.769bp,77bp) and (116.45bp,77bp)  .. (154bp,77bp);
  \draw (103bp,87.5bp) node {analyseurs};
  % Node: regex
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw [state] (28bp,77bp) ellipse (27bp and 18bp);
  \draw (28bp,77bp) node {PCRE};
\end{scope}
  % Node: word
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw [state,accepting] (347bp,77bp) ellipse (27bp and 18bp);
  \draw (347bp,77bp) node {mot};
\end{scope}
  % Node: ast
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw [state] (181bp,77bp) ellipse (27bp and 18bp);
  \draw (181bp,77bp) node {AST};
\end{scope}
  % Node: astX
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw (181bp,20bp) node {\begin{tikzpicture}[node distance=2cm] \node [state, scale=.3] (foo1) {}; \node [state, scale=.3, below left of=foo1] (foo2) {}; \node [state, scale=.3, below right of=foo1] (foo3) {}; \node [state, scale=.3, below left of=foo3] (foo4) {}; \node [state, scale=.3, below right of=foo3] (foo5) {}; \draw [thick] (foo1) -- (foo2) (foo1) -- (foo3) (foo3) -- (foo4) (foo3) -- (foo5); \end{tikzpicture}};
\end{scope}
  % Node: regexX
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw (28bp,20bp) node {\code{\bslash{}w[3-7]+}};
\end{scope}
  % Node: wordX
\begin{scope}
  \pgfsetstrokecolor{dotstroke}
  \draw (347bp,20bp) node {\code{f377}};
\end{scope}
%
