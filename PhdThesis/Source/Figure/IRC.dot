digraph {
    graph [rankdir=TB];
    node [shape=circle, width=0.5];

    v_1 -> v_2 [label=" ", texlbl="$\quad\quad\code{class('\bslash Irc\bslash Server')}$"];

    subgraph {
        v_2 -> w_1 [label=" ", texlbl="$\varepsilon$"];
        w_1 -> w_2 [label=" ", texlbl="$\quad\code{/\^\empty privmessage .+/}\quad$"];
        w_1 -> w_2 [label=" ", texlbl="$\quad\code{/\^\empty message .+/}\quad$"];
        w_2 -> w_3 [label=" ", texlbl="$\varepsilon$"];
        w_3 -> w_4 [label=" ", texlbl="$\code{1..}\quad$"];
        v_2 -> w_3 [style="dashed"];
    }

    subgraph {
        v_2 -> x_1 [label=" ", texlbl="$\varepsilon$"];
        x_1 -> x_2 [label=" ", texlbl="$\quad\code{/\^\empty ping\$/}$"];
        x_2 -> x_3 [label=" ", texlbl="$\varepsilon$"];
        x_3 -> x_4 [label=" ", texlbl="$\quad\code{\$server->buf... >= 0}$"];
        x_3 -> x_4 [label=" ", texlbl="$\quad\code{network...() > 0}$"];
        x_4 -> x_5 [label=" ", texlbl="$\varepsilon$"];
        x_5 -> x_6 [label=" ", texlbl="$\code{1..}$"];
        v_2 -> x_5 [style="dashed"];
    }

    subgraph {
        v_2 -> y_1 [label=" ", texlbl="$\top$"];
        y_1 -> y_2 [label=" ", texlbl="$\quad\quad\code{\bslash Irc\bslash Excep...  e}$"];
        y_2 -> y_3 [label=" ", texlbl="$\varepsilon$"];
        y_3 -> y_4 [label=" ", texlbl="$\quad\code{400..491}$"];
        y_4 -> y_5 [label=" ", texlbl="$\varepsilon$"];
        y_1 -> y_5 [label=" ", texlbl="$\quad\neg \code{\bslash Irc... e}$"];
        y_1 -> y_5 [style="dashed"];
    }

    /*
    v_1      [style="state,initial"];
    v_2      [style="state,accepting"];
    v_4      [style="state,accepting"];
    v_6      [style="state,accepting"];

    v_4 v_9  [style="state,accepting"];
    v_10     [style="state,accepting", shape=rect, texlbl="$v_{10}$"];
    */
}
