digraph {
    graph [rankdir=LR];
    node  [style="state"];

    subgraph {
        wordX     -> sequenceX;
        sequenceX -> resultX;
    }

    subgraph {
        word     -> sequence [label=" ", texlbl="lexicale"];
        sequence -> result   [label=" ", texlbl="syntaxique"];
    }

    wordX     [shape=plaintext, label=" ", texlbl="\code{7 + 42}"];
    sequenceX [shape=plaintext, width=2.2, label=" ", texlbl="$[[\code{7} \mapsto \dots], [\code{+} \mapsto \dots], [\code{42} \mapsto \dots]]$"];
    resultX   [shape=plaintext, label=" ", texlbl="\begin{tikzpicture}[node distance=2cm] \node [state, scale=.3] (foo1) {}; \node [state, scale=.3, below left of=foo1] (foo2) {}; \node [state, scale=.3, below right of=foo1] (foo3) {}; \node [state, scale=.3, below left of=foo3] (foo4) {}; \node [state, scale=.3, below right of=foo3] (foo5) {}; \draw [thick] (foo1) -- (foo2) (foo1) -- (foo3) (foo3) -- (foo4) (foo3) -- (foo5); \end{tikzpicture}"];

    word     [label=" ", texlbl="mot"                         ];
    sequence [label=" ", texlbl="s√©quence"                    ];
    result   [style="state,accepting", label=" ", texlbl="AST"];
}
